<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    
    <title>Tugas Function</title>
    <style>
        .container{
            width: 945px;
            border: 1px solid black;
            background-color:whitesmoke;
        }
        input{
            border: 1px solid gray;
            box-shadow: inset 3px 3px 4px rgba(0,0,0,0.4);
        }
        textarea{
            border: 1px solid gray;
            box-shadow: inset 3px 3px 4px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>
     <div class="container">
        <div class="form-group">
            <br>
            <h1><center style="font-size: 100%;">RENTAL SEWA MOBIL</center></h1>
            <br>
            <br>
            <h2><center style="font-size: 80%;">Masukan Data Peminjam</center></h2>
            <br>
            
            <!-- FORM INPUT -->
            <label for="namapeminjam">Nama Peminjam</label>
            <input type="text" class="form-control" id="txt_namapeminjam" placeholder="Masukan Nama">

            <label for="notelepon">No Telepon</label>
            <input type="number" class="form-control" id="txt_notelepon" placeholder="Masukan No Telepon">

            <label for="alamat">Alamat</label>
            <textarea class="form-control" id="txt_alamat" rows="2" placeholder="Masukan Alamat"></textarea>

            <label for="jaminan">Jaminan</label>
            <input type="text" class="form-control" id="txt_jaminan" placeholder="Masukan Jaminan">

            <label for="tglpeminjaman">Tanggal Peminjaman</label>
            <input type="date" class="form-control" id="txt_tglpinjam">

            <label for="tglpengembalian">Tanggal Pengembalian</label>
            <input type="date" class="form-control" id="txt_tglkembali">

            <button class="btn btn-success m-2" onclick="update()">Update</button>
            
             </div>
             </div>

            <!-- SEWA -->
             <div class="container">
                <div class="card float-left m-4" style="width: 16rem; height: 28rem;">
                    <img src="mobil elef.jpg" class="card-img-top" alt="Gambar Tidak Ditemukan">
                    <div class="card-body">
                      <h5 class="card-title" id="mobil1" >Isuzu Elf</h5>
                      <p class="card-text">Per Hari RP.900,000<br>
                        Setiap Pinjaman 2Hari Mendapatkan Diskon 10%<br>
                     </p>
                      <div class="form-group">
                        <label for="exampleFormControlSelect1"><b>Waktu Peminjaman</b></label>
                        <select class="form-control hari" id="estimasi">
                          <option value="1">1 Hari</option>
                          <option value="2">2 Hari</option>

                        </select>
                      </div>
                      <button class="btn btn-primary m-3" onclick="add1()">Sewa</button>
                    </div>
                </div>
                  
                <div class="card float-left m-4" style="width: 16rem; height: 28rem;">
                    <img src="mobil apv.jpg" class="card-img-top" alt="Gambar Tidak Ditemukan">
                    <div class="card-body">
                      <h5 class="card-title" id="mobil2">Suzuki APV</h5>
                      <p class="card-text">Per Hari RP.700,000<br>
                        Setiap Pinjaman 2Hari Mendapat Diskon 10%<br>
                      </p>
                    <div class="form-group">
                        <label for="exampleFormControlSelect1"><b>Waktu Peminjaman</b></label>
                        <select class="form-control hari" id="estimasi2">
                          <option value="1">1 Hari</option>
                          <option value="2">2 Hari</option>  
                        </select>
                      </div>
                      <button class="btn btn-primary m-3" onclick="add2()">Sewa</button>
                    </div>
                </div>
                
                <div class="card float-left m-4" style="width: 16rem; height: 28rem;">
                    <img src="mobil_avanza.png" class="card-img-top" alt="Gambar Tidak Ditemukan">
                    <div class="card-body">
                      <h5 class="card-title" id="mobil3">Toyota Avanza</h5>
                      <p class="card-text">Per Hari RP.500,000<br>
                        Setiap Pinjaman 2 Hari Akan Mendapat Diskon 10%<br>                      
                      </p>
                      <div class="form-group">
                        <label for="exampleFormControlSelect1"><b>Waktu Peminjaman</b></label>
                        <select class="form-control hari" id="estimasi3">
                          <option value="1">1 Hari</option>
                          <option value="2">2 Hari</option>
                        </select>
                      </div>
                      <button class="btn btn-primary m-3" onclick="add3()">Sewa</button>
                    </div>
                </div>
            </div>

    <center>
    <div class="table">
        <div class="form-group">

            <!-- TABLE -->
            <table border="2" cellpadding="3" style="text-align: center; width: 1500px;">
                <thead style="background-color:whitesmoke">
                    <tr>
                        <th scope="col">No</th>
                        <th scope="col">Nama Penyewa</th>
                        <th scope="col">Nomor Telepon</th>    
                        <th scope="col">alamat</th>
                        <th scope="col">Jaminan</th>
                        <th scope="col">Jenis mobil</th>
                        <th scope="col">harga</th>
                        <th scope="col">Waktu Peminjaman</th>
                        <th scope="col">Tanggal Peminjaman</th>
                        <th scope="col">Tanggal Pengembalian</th>
                        <th scope="col">Action</th>
                    </tr>
                </thead>
                <tbody id="datatampil"></tbody>
            </table>
        </div>
    </div>
</center>

<!--DETAIL-->
<div class="modal fade" id="modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
    <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Detail Penyewaan</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
            </div>
            <div class="modal-body">
                <div class="form-group">

                <label for="namapeminjam">Nama Peminjam</label>
                <input type="text" class="form-control" id="modalpeminjam">
            
                <label for="notelepon">No Telepon</label>
                <input type="number" class="form-control" id="modaltelepon">
            
                <label for="alamat">Alamat</label>
                <input type="text" class="form-control" id="modalalamat">
            
                <label for="jaminan">Jaminan</label>
                <input class="form-control" type="text" id="modaljaminan">

                <label for="tglpeminjaman">Tanggal Peminjaman</label>
                <input type="date" class="form-control" id="modaltglpinjam">

                <label for="tglpengembalian">Tanggal Pengembalian</label>
                <input type="date" class="form-control" id="modaltglkembali">

                
                <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Kembali</button>
            </div>
        </div>
    </div>
    </div>
    </div>
</div>

    <!-- JavaScript -->
    <script>
        var nama = []
        var notelepon = []
        var alamat = []
        var jaminan = []
        var tipe = []
        var estimasi = []
        var harga = []
        var tglpeminjaman = []
        var tglpengembalian = []

        var tampil = document.getElementById('datatampil')

        // FUNCTION
        function show() {
            tampil.innerHTML = "";

            for (i = 0; i < nama.length; i++) {
                nodata = i + 1;

                tampil.innerHTML += "<tr>" +
                    "<td>" + nodata + "</td>" +
                    "<td>" + nama[i] + "</td>" +
                    "<td>" + notelepon[i] + "</td>" +
                    "<td>" + alamat[i] + "</td>" +
                    "<td>" + jaminan[i] + "</td>" +
                    "<td>" + tipe[i] + "</td>" +
                    "<td>" + harga[i] + "</td>" +
                    "<td>" + estimasi[i] + "</td>" +
                    "<td>" + tglpeminjaman[i] + "</td>" +
                    "<td>" + tglpengembalian[i] + "</td>" +
                    "<td>" +
                    "<button class='btn btn-success mr-1' onclick='edit(" + i + ")'>Edit</button>" +
                    "<button class='btn btn-warning mr-1' data-toggle='modal' data-target='#modal' onclick='detail(" + i +")'>Detail</button>" +
                    "<button class='btn btn-danger' onclick='hapus(" + i + ")'>Hapus</button>" +
                    "</td>" +
                    "</tr>"
            }
        }

        show()

            // FUNCTION ADD1
            function add1() {
            var namabaru = document.getElementById('txt_namapeminjam').value
            var noteleponbaru = document.getElementById('txt_notelepon').value
            var alamatbaru = document.getElementById('txt_alamat').value
            var jaminanbaru = document.getElementById('txt_jaminan').value
            var estimasibaru = document.getElementById('estimasi').value
            var tglpeminjamanbaru = document.getElementById('txt_tglpinjam').value
            var tglpengembalianbaru = document.getElementById('txt_tglkembali').value
            

            if (estimasibaru == "1") {
                namabarang = "Isuzu Elf"
                hargabarang = 900000;
            } else if (estimasibaru == "2") {
                namabarang = "Isuzu Elf"

            // DISKON
            const hargaBdiskon = 900000;
            const diskon1 = 10;
            const diskon2 = 100;

            const diskonnya = hargaBdiskon / diskon2 * diskon1;
            const hargaUdiskon = hargaBdiskon - diskonnya;

            hargabarang = hargaUdiskon;

            alert('Anda Telah Mendapatkan Diskon 10% dari ' + hargaBdiskon + ' Jadi ' + hargaUdiskon)
            } else{
            namabarang = "";
            hargabarang = 0;
            }

            nama.push(namabaru)
            notelepon.push(noteleponbaru)
            alamat.push(alamatbaru)
            jaminan.push(jaminanbaru)
            estimasi.push(estimasibaru)
            tipe.push(namabarang)
            harga.push(hargabarang)
            tglpeminjaman.push(tglpeminjamanbaru)
            tglpengembalian.push(tglpengembalianbaru)

            show()
            }

        // FUNCTION ADD2
        function add2() {
        var namabaru = document.getElementById('txt_namapeminjam').value
        var noteleponbaru = document.getElementById('txt_notelepon').value
        var alamatbaru = document.getElementById('txt_alamat').value
        var jaminanbaru = document.getElementById('txt_jaminan').value
        var estimasibaru = document.getElementById('estimasi2').value
        var tglpeminjamanbaru = document.getElementById('txt_tglpinjam').value
        var tglpengembalianbaru = document.getElementById('txt_tglkembali').value

        if (estimasibaru == "1") {
            namabarang = "Suzuki APV"
            hargabarang = 700000;
        } else if (estimasibaru == "2") {
            namabarang = "Suzuki APV"

            // DISKON
            const hargaBdiskon = 700000;
            const diskon1 = 10;
            const diskon2 = 100;

            const diskonnya = hargaBdiskon / diskon2 * diskon1;
            const hargaUdiskon = hargaBdiskon - diskonnya;

            hargabarang = hargaUdiskon;

            alert('Anda Telah Mendapatkan Diskon 10% Dari ' + hargaBdiskon + ' Jadi ' + hargaUdiskon)
        } else {
            namabarang = "";
            hargabarang = 0;
        }

        nama.push(namabaru)
        notelepon.push(noteleponbaru)
        alamat.push(alamatbaru)
        jaminan.push(jaminanbaru)
        estimasi.push(estimasibaru)
        tipe.push(namabarang)
        harga.push(hargabarang)
        tglpeminjaman.push(tglpeminjamanbaru)
        tglpengembalian.push(tglpengembalianbaru)

        show()
    }

        // FUNCTION ADD3
        function add3() {
        var namabaru = document.getElementById('txt_namapeminjam').value
        var noteleponbaru = document.getElementById('txt_notelepon').value
        var alamatbaru = document.getElementById('txt_alamat').value
        var jaminanbaru = document.getElementById('txt_jaminan').value
        var estimasibaru = document.getElementById('estimasi3').value
        var tglpeminjamanbaru = document.getElementById('txt_tglpinjam').value
        var tglpengembalianbaru = document.getElementById('txt_tglkembali').value

        if (estimasibaru == "1") {
            namabarang = "Toyota Avanza"
            hargabarang = 500000;
        } else if (estimasibaru == "2") {
            namabarang = "Toyota Avanza"

            // Diskon
            const hargaBdiskon = 500000;
            const diskon1 = 10;
            const diskon2 = 100;

            const diskonnya = hargaBdiskon / diskon2 * diskon1;
            const hargaUdiskon = hargaBdiskon - diskonnya;

            hargabarang = hargaUdiskon;

            alert('Anda Telah Mendapatkan Diskon 10% dari ' + hargaBdiskon + ' Jadi ' + hargaUdiskon)
            } else{
            namabarang = "";
            hargabarang = 0;
            }

        nama.push(namabaru)
        notelepon.push(noteleponbaru)
        alamat.push(alamatbaru)
        jaminan.push(jaminanbaru)
        estimasi.push(estimasibaru)
        tipe.push(namabarang)
        harga.push(hargabarang)
        tglpeminjaman.push(tglpeminjamanbaru)
        tglpengembalian.push(tglpengembalianbaru)

        show()
        }

        // EDIT DAN UPDATE
        function update() {
                var editnamapinjam = document.getElementById('txt_namapeminjam').value
                var edittlp = document.getElementById('txt_notelepon').value
                var editalmt = document.getElementById('txt_alamat').value
                var editjmnan = document.getElementById('txt_jaminan').value
                var editjam = document.getElementById('txt_tglpinjam').value
                var editli = document.getElementById('txt_tglkembali').value

                nama[id] = editnamapinjam
                notelepon[id] = edittlp
                alamat[id] = editalmt
                jaminan[id] = editjmnan
                tglpeminjaman[id] = editjam
                tglpengembalian[id] = editli

                show()
                
            }

            function edit(i) {
                var updatenama = document.getElementById('txt_namapeminjam').value = nama[i]
                var updatetlp = document.getElementById('txt_notelepon').value = notelepon[i]
                var updatealmt = document.getElementById('txt_alamat').value = alamat[i]
                var updatejmnan = document.getElementById('txt_jaminan').value = jaminan[i]
                var updatejam = document.getElementById('txt_tglpinjam').value = tglpeminjaman[i]
                var updatelian = document.getElementById('txt_tglkembali').value = tglpengembalian[i]
                id = i

                show()
                
            }

            // fuction detail
            function detail(i) {
                document.getElementById('modalpeminjam').value = nama[i]
                document.getElementById('modaltelepon').value = notelepon[i]
                document.getElementById('modalalamat').value = alamat[i]
                document.getElementById('modaljaminan').value = jaminan[i]
                document.getElementById('modaltglpinjam').value = tglpeminjaman[i]
                document.getElementById('modaltglkembali').value = tglpengembalian[i]

            }


    // HAPUS
    function hapus(item) {
        nama.splice(item, 1);
        notelepon.splice(item, 1);
        alamat.splice(item, 1);
        jaminan.splice(item, 1);
        tipe.splice(item, 1);
        harga.splice(item, 1);
        estimasi.splice(item, 1);
        
        show();
    }

    </script>


        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

    </body>
</html>